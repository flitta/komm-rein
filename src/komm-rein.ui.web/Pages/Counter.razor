@page "/counter"
@inject IHttpClientFactory ClientFactory
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using komm_rein.model

<h1>Counter</h1>


<button class="btn btn-primary" @onclick="RunAction">Click me</button>

@code
{
    private async void RunAction()
    {
        try
        {
            var client = ClientFactory.CreateClient("ServerAPI");

            await client.PostAsJsonAsync($"Facility", new Facility() { Name = "Aylins Blumenecke" });
        }
        catch (AccessTokenNotAvailableException exception)
        {
            exception.Redirect();
        }

    }
}